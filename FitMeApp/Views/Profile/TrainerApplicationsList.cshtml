@model IEnumerable<FitMeApp.WEB.Contracts.ViewModels.TrainerApplicationViewModel>

@{
    ViewBag.Title = "List of Trainer applications";
}

<ul class="nav nav-tabs">
    <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#">New applications</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" asp-action="UpdateTrainerWorkLicense" asp-controller="Profile"> Apply to update</a>
    </li>
</ul>

<div class="container">
    <div>
        <h3> Trainer applications</h3>
    </div>
    <table class="table">
        <tr>
            <th>#</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Trainer subscription</th>
            <th>Contract</th>
            <th>Contract number</th>
            <th>App date</th>
            <th></th>
        </tr>
        @{ int rowNumber = 0;}
        @foreach (var application in Model)
        {
            rowNumber++;

            <tr>
                <td>@rowNumber</td>
                <td>@application.UserFirstName</td>
                <td>@application.UserLastName</td>

                <td>
                    @if (application.TrainerSubscription)
                    {
                        <img src="/Content/images/yes.jpg" class="card-img-top" alt="..." style="height: 25px; width: auto" />
                    }
                    else
                    {
                        <img src="/Content/images/no.jpg" class="card-img-top" alt="..." style="height: 25px; width: auto" />
                    }
                </td>
                @if (application.ContractNumber != null)
                {
                    <td>
                        <img src="/Content/images/yes.jpg" class="card-img-top" alt="..." style="height: 25px; width: auto" />
                    </td>
                    <td>
                        @application.ContractNumber
                    </td>
                }
                else
                {
                    <td>
                        <img src="/Content/images/no.jpg" class="card-img-top" alt="..." style="height: 25px; width: auto" />
                    </td>
                    <td></td>
                }
                <td>@application.ApplicationDate.ToString("MM/dd/yyyy")</td>
                <td>
                    <div style="text-align:center">
                        <a asp-controller="Profile" asp-action="ApproveTrainerApplication" asp-route-trainerId="@application.UserId" class="btn btn-success">Approve</a>
                        <a asp-controller="Profile" asp-action="RejectTrainerApplication" asp-route-applicationId="@application.Id" asp-route-userId="@application.UserId" class="btn btn-danger">Reject</a>
                    </div>
                </td>
            </tr>
        }
    </table>

</div>


