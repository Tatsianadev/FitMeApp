<div class="container">
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4">
            <div class="row" style="padding: 20px">
                <div class="col-md-11">
                    <label for="productSearchBox" class="form-label">Product name</label>
                    <input type="text" class="form-control" id="productSearchBox" placeholder="type product name...">
                </div>
                <div class="col-md-1" style="padding: 5px">
                    <img id="searchImg" src="/Content/images/search.svg" />
                </div>
                <div id="searchResult"></div>
            </div>
        </div>
        <div class="col-md-4"></div>
    </div>
</div>


<script>
    document.getElementById("productSearchBox").addEventListener("keyup",
        function (e) {
            if ((e.keyCode > 45 && e.keyCode < 106) || e.keyCode === 8) {
                var letters = document.getElementById("productSearchBox").value;
                if (letters.length > 0) {
                    $.post(`https://localhost:44384/api/getproductsbystartwith`,
                            {
                                letters: letters
                            })
                        .done(function(data) {
                            if (data !== null) {
                                document.getElementById("searchResult").innerText = data;
                            }
                        });

                }
            }
        });
</script>
